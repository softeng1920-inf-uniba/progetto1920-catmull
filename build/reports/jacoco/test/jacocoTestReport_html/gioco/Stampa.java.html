<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="it"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Stampa.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">scacchi</a> &gt; <a href="index.source.html" class="el_package">gioco</a> &gt; <span class="el_source">Stampa.java</span></div><h1>Stampa.java</h1><pre class="source lang-java linenums">package gioco;

import scacchiera.Cella;
import scacchiera.Scacchiera;
import scacchiera.pedine.Pezzo;

/**
 * La classe Stampa contiene i messaggi stampati a video e i metodi di stampa
 * dell'intero gioco. Contiene anche informazioni riguardo ai colori utilizzati
 * nelle stampe. La classe Stampa e' di tipo BOUNDARY.
 */
public final class Stampa {

    private Stampa() {
	// Costruttore privato
    }

    // colore carattere e font
    private static final String CYAN_BOLD = &quot;\033[1;96m&quot;;
    private static final String WHITE_BOLD_BRIGHT = &quot;\033[1;97m&quot;;
    private static final String CYAN_UNDERLINED = &quot;\033[4;96m&quot;;
    private static final String WHITE_UNDERLINED_BRIGHT = &quot;\033[4;97m&quot;;
    private static final String CYAN = &quot;\u001B[36m&quot;;

    // sfondo cella
    private static final String ANSI_CYAN_BACKGROUND = &quot;\u001B[46m&quot;; // grigio
    private static final String ANSI_WHITE_BACKGROUND_BRIGHT = &quot;\033[0;107m&quot;; // bianco

    // reset sfondo e carattere a default
    private static final String ANSI_RESET = &quot;\u001B[0m&quot;;

    // colore Intro
    public static final String ANSI_CYAN = &quot;\u001B[36m&quot;;

    /**
     * Stampa a video il simbolo del pezzo in input
     *
     * @param p
     */
    private static void disegnaPezzo(final Pezzo p) {
<span class="nc" id="L41">	System.out.print(&quot;\033[1;30m&quot; + p.getSimbolo());</span>
<span class="nc" id="L42">    }</span>

    /**
     * Stampa a video il pezzo nella cella corrente
     *
     * @param cellaPezzo
     */
    private static void stampaPezzo(final Cella cellaPezzo) {
<span class="nc bnc" id="L50" title="All 2 branches missed.">	if (cellaPezzo.getPezzoCorrente() != null) {</span>
<span class="nc" id="L51">	    System.out.print(&quot; &quot;);</span>
<span class="nc" id="L52">	    disegnaPezzo(cellaPezzo.getPezzoCorrente());</span>
	} else {
<span class="nc" id="L54">	    System.out.print(&quot;  &quot;);</span>
	}

<span class="nc" id="L57">    }</span>

    /**
     * Stampa a video la scacchiera con i pezzi all'interno
     */
    public static void stampaScacchiera() {
	boolean cost;
<span class="nc" id="L64">	System.out.println(&quot;      a   b    c    d    e    f    g    h&quot;);</span>
<span class="nc bnc" id="L65" title="All 2 branches missed.">	for (int j = Scacchiera.NUMEROCOLONNE; j &gt; 0; j--) {</span>
<span class="nc bnc" id="L66" title="All 2 branches missed.">	    if (j % 2 == 0) {</span>
<span class="nc" id="L67">		cost = false;</span>
	    } else {
<span class="nc" id="L69">		cost = true;</span>
	    }
<span class="nc" id="L71">	    System.out.print(&quot;   &quot;);</span>
<span class="nc bnc" id="L72" title="All 2 branches missed.">	    for (int i = 0; i &lt; Scacchiera.NUMERORIGHE; i++) {</span>
<span class="nc bnc" id="L73" title="All 2 branches missed.">		if (cost) {</span>
<span class="nc bnc" id="L74" title="All 2 branches missed.">		    if (i % 2 == 0) {</span>
<span class="nc" id="L75">			System.out.print(ANSI_CYAN_BACKGROUND + &quot; &quot;);</span>
		    } else {
<span class="nc" id="L77">			System.out.print(ANSI_WHITE_BACKGROUND_BRIGHT + &quot; &quot;);</span>
		    }
		} else {
<span class="nc bnc" id="L80" title="All 2 branches missed.">		    if (i % 2 == 0) {</span>
<span class="nc" id="L81">			System.out.print(ANSI_WHITE_BACKGROUND_BRIGHT + &quot; &quot;);</span>
		    } else {
<span class="nc" id="L83">			System.out.print(ANSI_CYAN_BACKGROUND + &quot; &quot;);</span>
		    }
		}
<span class="nc" id="L86">		System.out.print(&quot;    &quot;);</span>
<span class="nc" id="L87">		System.out.print(ANSI_RESET);</span>
	    }
<span class="nc" id="L89">	    System.out.println();</span>
<span class="nc" id="L90">	    System.out.print(j + &quot;  &quot;);</span>

<span class="nc bnc" id="L92" title="All 2 branches missed.">	    for (int i = 0; i &lt; Scacchiera.NUMERORIGHE; i++) {</span>
<span class="nc bnc" id="L93" title="All 2 branches missed.">		if (cost) {</span>
<span class="nc bnc" id="L94" title="All 2 branches missed.">		    if (i % 2 == 0) {</span>
<span class="nc" id="L95">			System.out.print(ANSI_CYAN_BACKGROUND + &quot; &quot;);</span>
		    } else {
<span class="nc" id="L97">			System.out.print(ANSI_WHITE_BACKGROUND_BRIGHT + &quot; &quot;);</span>
		    }
		} else {
<span class="nc bnc" id="L100" title="All 2 branches missed.">		    if (i % 2 == 0) {</span>
<span class="nc" id="L101">			System.out.print(ANSI_WHITE_BACKGROUND_BRIGHT + &quot; &quot;);</span>
		    } else {
<span class="nc" id="L103">			System.out.print(ANSI_CYAN_BACKGROUND + &quot; &quot;);</span>
		    }
		}
<span class="nc" id="L106">		stampaPezzo(Scacchiera.getCella(i, Math.abs(j - Scacchiera.NUMERORIGHE)));</span>
<span class="nc" id="L107">		System.out.print(&quot;  &quot;);</span>
<span class="nc" id="L108">		System.out.print(ANSI_RESET);</span>
	    }
<span class="nc" id="L110">	    System.out.print(ANSI_RESET);</span>
<span class="nc" id="L111">	    System.out.println(&quot;  &quot; + j);</span>
<span class="nc" id="L112">	    System.out.print(&quot;   &quot;);</span>
<span class="nc bnc" id="L113" title="All 2 branches missed.">	    for (int i = 0; i &lt; Scacchiera.NUMERORIGHE; i++) {</span>
<span class="nc bnc" id="L114" title="All 2 branches missed.">		if (cost) {</span>
<span class="nc bnc" id="L115" title="All 2 branches missed.">		    if (i % 2 == 0) {</span>
<span class="nc" id="L116">			System.out.print(ANSI_CYAN_BACKGROUND + &quot; &quot;);</span>
		    } else {
<span class="nc" id="L118">			System.out.print(ANSI_WHITE_BACKGROUND_BRIGHT + &quot; &quot;);</span>
		    }
		} else {
<span class="nc bnc" id="L121" title="All 2 branches missed.">		    if (i % 2 == 0) {</span>
<span class="nc" id="L122">			System.out.print(ANSI_WHITE_BACKGROUND_BRIGHT + &quot; &quot;);</span>
		    } else {
<span class="nc" id="L124">			System.out.print(ANSI_CYAN_BACKGROUND + &quot; &quot;);</span>
		    }
		}
<span class="nc" id="L127">		System.out.print(&quot;    &quot;);</span>
<span class="nc" id="L128">		System.out.print(ANSI_RESET);</span>
	    }

<span class="nc" id="L131">	    System.out.println();</span>

	}
<span class="nc" id="L134">	System.out.println(&quot;      a   b    c    d    e    f    g    h&quot;);</span>
<span class="nc" id="L135">    }</span>

    /**
     * stampa introduttiva del gioco
     */
    public static void stampaIntro() {
<span class="nc" id="L141">	System.out.println(CYAN + &quot;\n _/|&quot; + ANSI_RESET + &quot;    #&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot;</span>
		+ ANSI_RESET + &quot;#&quot; + CYAN + &quot;   #&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot;
		+ ANSI_RESET + &quot;     #&quot; + CYAN + &quot;     #&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;#&quot; + CYAN
		+ &quot;#&quot; + ANSI_RESET + &quot;   #&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;#&quot; + CYAN
		+ &quot; #&quot; + CYAN + &quot;     #&quot; + CYAN + &quot; #&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot; + CYAN + &quot;    |\\_&quot;);
<span class="nc" id="L146">	System.out.println(CYAN + &quot;// o\\&quot; + CYAN + &quot;   #&quot; + ANSI_RESET + &quot;      #&quot; + CYAN + &quot;        #&quot; + CYAN + &quot;   #&quot;</span>
		+ ANSI_RESET + &quot;  #&quot; + CYAN + &quot;       #&quot; + ANSI_RESET + &quot;      #&quot; + ANSI_RESET + &quot;     #&quot; + CYAN + &quot;  #&quot;
		+ CYAN + &quot;    /o \\\\&quot;);
<span class="nc" id="L149">	System.out.println(CYAN + &quot;|| ._)&quot; + ANSI_RESET + &quot;  #&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot;</span>
		+ ANSI_RESET + &quot;#&quot; + CYAN + &quot;  #&quot; + ANSI_RESET + &quot;       #&quot; + ANSI_RESET + &quot;     #&quot; + CYAN + &quot; #&quot;
		+ ANSI_RESET + &quot;       #&quot; + CYAN + &quot;      #&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;#&quot; + CYAN
		+ &quot;#&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;  #&quot; + CYAN + &quot;   (_. ||&quot;);
<span class="nc" id="L153">	System.out.println(CYAN + &quot;//__\\&quot; + CYAN + &quot;       #&quot; + ANSI_RESET + &quot;  #&quot; + CYAN + &quot;       #&quot; + ANSI_RESET</span>
		+ &quot; #&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot; #&quot; + ANSI_RESET + &quot; #&quot; + CYAN + &quot;       #&quot;
		+ ANSI_RESET + &quot;      #&quot; + ANSI_RESET + &quot;     #&quot; + CYAN + &quot;  #&quot; + CYAN + &quot;    /__\\\\&quot;);
<span class="nc" id="L156">	System.out.println(CYAN + &quot;)___(&quot; + ANSI_RESET + &quot;   #&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot;</span>
		+ ANSI_RESET + &quot;#&quot; + CYAN + &quot;   #&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot;
		+ ANSI_RESET + &quot;  #&quot; + ANSI_RESET + &quot;     #&quot; + CYAN + &quot;  #&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot; + ANSI_RESET
		+ &quot;#&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;   #&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot; + ANSI_RESET + &quot;#&quot;
		+ CYAN + &quot; #&quot; + CYAN + &quot;     #&quot; + CYAN + &quot; #&quot; + ANSI_RESET + &quot;#&quot; + CYAN + &quot;#&quot; + CYAN + &quot;   )___(&quot;);
<span class="nc" id="L161">	System.out.print(ANSI_RESET);</span>
<span class="nc" id="L162">    }</span>

    /**
     * Stampa a video il giocatore in turno
     *
     * @param giocatoreAttivo
     */
    public static void stampaTurno(final Giocatore giocatoreAttivo) {
<span class="nc bnc" id="L170" title="All 2 branches missed.">	if (giocatoreAttivo.getColore() == Colore.bianco) {</span>
<span class="nc" id="L171">	    System.out.println(&quot;\nE' il turno di &quot; + WHITE_BOLD_BRIGHT + WHITE_UNDERLINED_BRIGHT</span>
<span class="nc" id="L172">		    + giocatoreAttivo.getNome() + ANSI_RESET + &quot; con le pedine di colore &quot; + WHITE_BOLD_BRIGHT</span>
<span class="nc" id="L173">		    + WHITE_UNDERLINED_BRIGHT + giocatoreAttivo.getColore() + ANSI_RESET + &quot;.&quot;);</span>
	} else {
<span class="nc" id="L175">	    System.out.println(&quot;\nE' il turno di &quot; + CYAN_BOLD + CYAN_UNDERLINED + giocatoreAttivo.getNome()</span>
		    + ANSI_RESET + &quot; con le pedine di colore &quot; + CYAN_BOLD + CYAN_UNDERLINED
<span class="nc" id="L177">		    + giocatoreAttivo.getColore() + ANSI_RESET + &quot;.&quot;);</span>
	}

<span class="nc" id="L180">	System.out.print(&quot;-&gt; Inserisci una mossa nella notazione algebrica (es. e4, Cxd3, exd3 e.p.)&quot;);</span>
<span class="nc" id="L181">	System.out.println(&quot;, altrimenti digita una voce del menu.&quot;);</span>
<span class="nc" id="L182">    }</span>

    /**
     * Stampa a video i comandi principali del menu
     */
    public static void stampaMenu() {
<span class="nc" id="L188">	System.out.println();</span>
<span class="nc" id="L189">	System.out.println(&quot;\u265A&quot; + &quot;\u265B&quot; + WHITE_BOLD_BRIGHT + &quot;  MENU PRINCIPALE &quot; + ANSI_RESET + &quot;\u2655&quot;</span>
		+ &quot;\u2656&quot; + &quot; \n&quot;);
<span class="nc" id="L191">	mostrareElencoComandiMenu();</span>
<span class="nc" id="L192">    }</span>

    /**
     * Stampa a video il messaggio di mossa illegale
     */
    public static void stampaMossaIllegale() {
<span class="nc" id="L198">	System.out.println(WHITE_BOLD_BRIGHT + &quot;Mossa Illegale!&quot; + ANSI_RESET);</span>
<span class="nc" id="L199">    }</span>

    /**
     * Stampa a video il messaggio che indica che il comando inserito e' errato
     */
    public static void stampaComandoErrato() {
<span class="nc" id="L205">	System.out.println(WHITE_BOLD_BRIGHT + &quot;Comando errato. Riprova!&quot; + ANSI_RESET);</span>
<span class="nc" id="L206">    }</span>

    /**
     * Stampa a video il messaggio di conferma per iniziare una nuova partita
     */
    public static void stampaConfermaNuovaPartita() {
<span class="nc" id="L212">	System.out.println();</span>
<span class="nc" id="L213">	System.out.println(</span>
		&quot;Sei sicuro di voler iniziare una nuova partita? \n(Digita 'y' per confermare, 'n' altrimenti)&quot;);

<span class="nc" id="L216">    }</span>

    /**
     * Stampa a video il messaggio di conferma uscire dal gioco
     */
    public static void stampaConfermaFinePartita() {
<span class="nc" id="L222">	System.out.println();</span>
<span class="nc" id="L223">	System.out.println(&quot;Sei sicuro di voler uscire dal gioco? \n(Digita 'y' per confermare, 'n' altrimenti)&quot;);</span>

<span class="nc" id="L225">    }</span>

    /**
     * Stampa a video il messaggio di nuova partita
     */
    public static void stampaNuovaPartita() {
<span class="nc" id="L231">	System.out.println(&quot;\n&quot; + WHITE_BOLD_BRIGHT + &quot;~ Nuova partita ~&quot; + ANSI_RESET);</span>
<span class="nc" id="L232">    }</span>

    /**
     * Stampa a video i pezzi catturati per ogni giocatore
     *
     * @param giocatoreInteressato
     */
    public static void stampaPezziCatturati(final Giocatore giocatoreInteressato) {

<span class="nc" id="L241">	System.out.println(&quot;\nPezzi catturati dal giocatore &quot; + WHITE_BOLD_BRIGHT</span>
<span class="nc" id="L242">		+ giocatoreInteressato.getNome().toUpperCase() + ANSI_RESET + &quot;:&quot;);</span>
<span class="nc bnc" id="L243" title="All 2 branches missed.">	for (Pezzo pezzoMangiato : giocatoreInteressato.getPezziCatturati()) {</span>
<span class="nc" id="L244">	    System.out.println(pezzoMangiato);</span>
<span class="nc" id="L245">	}</span>

<span class="nc" id="L247">    }</span>

    /**
     * Mostra le catture effettuate da entrambe i giocatori
     */
    public static void visualizzareCatture() {

<span class="nc" id="L254">	Giocatore giocatoreAttivo = Turno.getGiocatoreInTurno();</span>
<span class="nc" id="L255">	Giocatore giocatoreAttesa = Turno.getGiocatoreInAttesa();</span>
<span class="nc bnc" id="L256" title="All 4 branches missed.">	if (!giocatoreAttivo.isEmptyPezziCatturati() || !giocatoreAttesa.isEmptyPezziCatturati()) {</span>
<span class="nc bnc" id="L257" title="All 2 branches missed.">	    if (!giocatoreAttivo.isEmptyPezziCatturati()) { // Se il giocatore attivo ha catturato dei pezzi, li stampo</span>
<span class="nc" id="L258">		stampaPezziCatturati(giocatoreAttivo);</span>
	    }

<span class="nc bnc" id="L261" title="All 2 branches missed.">	    if (!giocatoreAttesa.isEmptyPezziCatturati()) { // Se il giocatore in attesa ha catturato dei pezzi, li</span>
							    // stampo
<span class="nc" id="L263">		stampaPezziCatturati(giocatoreAttesa);</span>
	    }
	} else {
<span class="nc" id="L266">	    System.out.println(&quot;\nNon ci sono pezzi catturati da entrambi i giocatori.&quot;);</span>
	}
<span class="nc" id="L268">    }</span>

    /**
     * Stampa a video l'elenco delle mosse giocate da ogni giocatore
     */
    public static void stampaMosseGiocate() {
<span class="nc" id="L274">	String mossa = null;</span>
<span class="nc" id="L275">	int counter = 1;</span>
<span class="nc" id="L276">	int dimensione = Turno.getGiocatoreInAttesa().getNumeroMosseGiocate()</span>
<span class="nc" id="L277">		+ Turno.getGiocatoreInTurno().getNumeroMosseGiocate();</span>
<span class="nc bnc" id="L278" title="All 2 branches missed.">	if (dimensione == 0) {</span>
<span class="nc" id="L279">	    System.out.println(&quot;\nNon e' stata giocata alcuna mossa.&quot;);</span>
	} else {
<span class="nc" id="L281">	    System.out.println(&quot;\nStoria delle mosse giocate: &quot;);</span>
<span class="nc bnc" id="L282" title="All 2 branches missed.">	    for (int i = 0; i &lt; dimensione; i++) {</span>
<span class="nc bnc" id="L283" title="All 2 branches missed.">		if (i == dimensione - 1) {</span>
<span class="nc" id="L284">			mossa = counter + &quot;. &quot; + Turno.getArrayStoriaMosse().get(i);</span>
<span class="nc" id="L285">		    System.out.println(mossa);</span>
		} else {
<span class="nc" id="L287">			mossa = counter + &quot;. &quot; + Turno.getArrayStoriaMosse().get(i) + &quot; &quot; + Turno.getArrayStoriaMosse().get(i + 1);</span>
<span class="nc" id="L288">		    System.out.println(mossa);</span>
		}
<span class="nc" id="L290">		i++;</span>
<span class="nc" id="L291">		counter++;</span>
	    }
	}
<span class="nc" id="L294">    }</span>

    /**
     * Permette la visualizzazione dell' elenco dei comandi del menu principale
     */
    public static void mostrareElencoComandiMenu() {
<span class="nc" id="L300">	System.out.println(Menu.play().toString());</span>
<span class="nc" id="L301">	System.out.println(Menu.quit().toString());</span>
<span class="nc" id="L302">	System.out.println(Menu.board().toString());</span>
<span class="nc" id="L303">	System.out.println(Menu.help().toString());</span>
<span class="nc" id="L304">	System.out.println();</span>
<span class="nc" id="L305">    }</span>

    /**
     * Permette la visualizzazione dell' elenco dei comandi del menu di gioco
     */
    public static void mostrareElencoComandiGioco() {
<span class="nc" id="L311">	System.out.println();</span>
<span class="nc" id="L312">	System.out.println(Menu.play().toString());</span>
<span class="nc" id="L313">	System.out.println(Menu.quit().toString());</span>
<span class="nc" id="L314">	System.out.println(Menu.board().toString());</span>
<span class="nc" id="L315">	System.out.println(Menu.captures().toString());</span>
<span class="nc" id="L316">	System.out.println(Menu.moves().toString());</span>
<span class="nc" id="L317">	System.out.println(Menu.help().toString());</span>
<span class="nc" id="L318">	System.out.println();</span>
<span class="nc" id="L319">    }</span>

    /**
     * Stampa a video il messaggio per l'inserimento del nome del giocatore
     *
     * @param c
     */
    public static void stampaInserireGiocatore(final Colore c) {
<span class="nc bnc" id="L327" title="All 2 branches missed.">	if (c == Colore.bianco) {</span>
<span class="nc" id="L328">	    System.out.println(&quot;\nInserisci il nome del giocatore con le pedine di colore &quot; + WHITE_BOLD_BRIGHT</span>
		    + WHITE_UNDERLINED_BRIGHT + c + ANSI_RESET + &quot; \u2193&quot;);
	} else {
<span class="nc" id="L331">	    System.out.println(&quot;\nInserisci il nome del giocatore con le pedine di colore &quot; + CYAN_UNDERLINED</span>
		    + CYAN_BOLD + c + ANSI_RESET + &quot; \u2193&quot;);
	}

<span class="nc" id="L335">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>