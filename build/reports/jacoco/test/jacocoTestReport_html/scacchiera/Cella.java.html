<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="it"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Cella.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">scacchi</a> &gt; <a href="index.source.html" class="el_package">scacchiera</a> &gt; <span class="el_source">Cella.java</span></div><h1>Cella.java</h1><pre class="source lang-java linenums">package scacchiera;

import gioco.Menu;
import scacchiera.pedine.Pezzo;

/**
 * La classe Cella contiene le informazioni riguardanti ogni singola cella della
 * scacchiera, definendola con gli attributi:
 * &lt;ul&gt;
 * 	&lt;li&gt; x indica l'ascissa della coordinata &lt;/li&gt;
 * 	&lt;li&gt; y invece l'ordinata &lt;/li&gt;
 * 	&lt;li&gt; occupato indica lo stato della cella&lt;/li&gt;
 * 	&lt;li&gt; pezzoCorrente da informazioni riguardo al pezzo contenuto nella cella &lt;/li&gt;
 * &lt;/ul&gt;
 * La classe Cella e' di tipo ENTITY
 */
public final class Cella {
	private int x;
	private int y;
	private boolean occupato;
	private Pezzo pezzoCorrente;

	/**
	 * Crea una nuova cella, assegnandogli delle coordinate e settando un pezzo (se
	 * presente) nella cella.
	 *
	 * @param  coordX Intero che identifica la coordinata X per la cella
	 * @param  coordY Intero che identifica la coordinata Y per la cella
	 * @param  pC Pezzo all'interno della cella
	 */
<span class="fc" id="L31">	public Cella(final int coordX, final int coordY, final Pezzo pC) {</span>
<span class="fc" id="L32">		this.x = coordX;</span>
<span class="fc" id="L33">		this.y = coordY;</span>
<span class="fc" id="L34">		this.pezzoCorrente = pC;</span>
<span class="fc bfc" id="L35" title="All 2 branches covered.">		if (pC != null) {</span>
<span class="fc" id="L36">			this.occupato = true;</span>
		}

<span class="fc" id="L39">	}</span>

	// ---------Metodi di setting---------
	/**
	 * Modifica la variabile &lt;b&gt;occupato&lt;/b&gt;
	 *
	 * @param  occ boolean che identifica se la cella deve essere impostata ad occupata o meno
	 *
	 */
	public void setOccupato(final boolean occ) {
<span class="fc" id="L49">		this.occupato = occ;</span>
<span class="fc" id="L50">	}</span>

	/**
	 * Modifica il tipo di pezzo che la cella contiene
	 *
	 * @param  pC Pezzo corrente che la cella attuale deve contenere
	 */
	void setPezzoCorrente(final Pezzo pC) {
<span class="fc" id="L58">		this.pezzoCorrente = pC;</span>
<span class="fc bfc" id="L59" title="All 2 branches covered.">		if (pC != null) {</span>
<span class="fc" id="L60">			this.occupato = true;</span>
		}
<span class="fc" id="L62">	}</span>

	/**
	 * Restituisce la coordinata X della cella corrente
	 *
	 * @return  Valore intero della coordinata X
	 */
	public int getX() {
<span class="fc" id="L70">		return x;</span>
	}

	/**
	 * Restituisce la coordinata Y della cella corrente
	 *
	 * @return  Valore della coordinata Y
	 */
	public int getY() {
<span class="fc" id="L79">		return y;</span>
	}

	/**
	 * Restituisce un valore booleano che indica se la cella e' occupata da qualche
	 * pezzo o meno
	 *
	 * @return  true se la cella e' occupata, false altrimenti
	 */
	public boolean isOccupato() {
<span class="fc" id="L89">		return occupato;</span>
	}

	/**
	 * Restituisce il pezzo contenuto nella cella attuale
	 *
	 * @return  Pezzo nella cella corrente
	 */
	public Pezzo getPezzoCorrente() {
<span class="fc" id="L98">		return pezzoCorrente;</span>
	}

	// ------Metodi per aggiugere o togliere pezzi dalla scacchiera

	/**
	 * Aggiunge un pezzo nella scacchiera
	 *
	 * @param  nuovoPezzo Pezzo da aggiungere/sovrascrivere alla cella
	 */
	public void aggiungiPezzo(final Pezzo nuovoPezzo) {

<span class="fc" id="L110">		setPezzoCorrente(nuovoPezzo);</span>
<span class="fc" id="L111">		setOccupato(true);</span>

<span class="fc" id="L113">	}</span>

	/**
	 * Rimuove il pezzo dalla cella corrente
	 */
	public void rimuoviPezzoCorrente() {
<span class="fc" id="L119">		setOccupato(false);</span>
<span class="fc" id="L120">		setPezzoCorrente(null);</span>
<span class="fc" id="L121">	}</span>

	 /**
     * Converte l'attributo coordX in intero restituendo
     * il corrispondente valore
     *
     * @param  coordX Carattere in minuscolo da convertire in intero
     *
     * @return  Ascissa convertita in intero compresa fra 0 e 7
     */
    public static int coordXinInt(final char coordX) {
<span class="fc" id="L132">	final int aMinuscolaAscii = 97;</span>
<span class="fc" id="L133">	return coordX - aMinuscolaAscii;</span>
    }

    /**
     * Converte l'attributo coordY in intero restituendo
     * il corrispondente valore
     *
     * @param  coordY Carattere in minuscolo da convertire in intero
     *
     * @return  Ordinata convertita in intero compresa tra 0 e 7
     */
    public static int coordYinInt(final char coordY) {
<span class="fc" id="L145">	final int offsetUnoAscii = 49;</span>
<span class="fc" id="L146">	final int offsetMenoUnoAscii = 7;</span>
<span class="fc" id="L147">	return Math.abs((coordY - offsetUnoAscii) - offsetMenoUnoAscii);</span>
    }

    /**
     * Trasforma un valore da 0 a 7 (indici della matrice) in valori in termini di
     * traversa della scacchiera (carattere tra a e h)
     *
     * @param  coordX Intero da convertire in carattere
     *
     * @return  Valore necessario per la scacchiera compreso fra a e h
     */

    public static char coordXinChar(final int coordX) {
<span class="fc" id="L160">	final int aMinuscolaAscii = 97;</span>
<span class="fc" id="L161">	return (char) (coordX + aMinuscolaAscii);</span>
    }

    /**
     * Trasforma un valore da 0 a 7 (indici della matrice) in valori in termini di
     * righe della scacchiera (carattere tra 1 e 8)
     *
     * @param  coordY Intero da convertire in carattere
     * @return  Valore necessario per la scacchiera compreso fra 1 e 8
     */
    public static char coordYinChar(final int coordY) {
<span class="fc" id="L172">	final int carattere0Ascii = 48;</span>
<span class="fc" id="L173">	return (char) (Math.abs((coordY - Scacchiera.getInstance().getNumeroColonne())) + carattere0Ascii);</span>
    }

    /**
     * Converte la coordinata X di partenza data in input in intero.
     *
     * @param  m Stringa indicante la mossa in notazione estesa
     * @return  Valore necessario per la scacchiera compreso fra a e h
     */
    public static int startX(final String m) {
<span class="fc" id="L183">		return Cella.coordXinInt(m.charAt(Menu.COLONNA_PARTENZA_MOSSA_NE));</span>
    }

    /**
     * Converte la coordinata Y di partenza data in input in intero.
     *
     * @param  m Stringa indicante la mossa in notazione estesa
     * @return  Valore necessario per la scacchiera compreso fra 0 e 7
     */
    public static int startY(final String m) {
<span class="fc" id="L193">		return Cella.coordYinInt(m.charAt(Menu.TRAVERSA_PARTENZA_MOSSA_NE));</span>
    }

    /**
     * Converte la coordinata X di destinazione data in input in intero.
     *
     * @param  m Stringa indicante la mossa in notazione estesa
     * @return  Valore necessario per la scacchiera compreso fra a e h
     */
    public static int endX(final String m) {
<span class="fc" id="L203">		return Cella.coordXinInt(m.charAt(Menu.COLONNA_DESTINAZIONE_MOSSA_NE));</span>
    }

    /**
     * Converte la coordinata Y di destinazione data in input in intero.
     *
     * @param  m Stringa indicante la mossa in notazione estesa
     * @return  Valore necessario per la scacchiera compreso fra 0 e 7
     */
    public static int endY(final String m) {
<span class="fc" id="L213">		return Cella.coordYinInt(m.charAt(Menu.TRAVERSA_DESTINAZIONE_MOSSA_NE));</span>
    }

}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>